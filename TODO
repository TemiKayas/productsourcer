# ProductSource - Simple MVP TODO

## MVP Core Features
### Photo Upload
- [x] Create simple file upload component
- [x] Accept image files (JPG, PNG, WebP)
- [x] Add drag-and-drop upload area
- [x] Show image preview after upload
- [x] Add basic image validation (size, format)

### API Infrastructure (Google Lens Backend)
**ðŸ“‹ See docs/API.md for complete API documentation and examples**
- [x] Create `/api/analyze-image` endpoint for Google Vision API integration
- [x] Create `/api/product-normalize` endpoint for text processing and normalization
- [x] Create `/api/ebay-search` endpoint for eBay Finding API integration
- [x] Create `/api/analyze-complete` endpoint for full pipeline orchestration
- [x] Set up environment variable validation and configuration (lib/env.ts)
- [x] Create comprehensive TypeScript types for all API interactions (types/api.ts)
- [x] Create utility functions for frontend integration (lib/product-analysis.ts)
- [x] Install `axios` for API calls

### Product Recognition (Google Lens-like) - Implementation Needed
- [ ] Send uploaded image to Google Vision API
- [ ] Extract text from product labels/packaging
- [ ] Detect product logos and brand names
- [ ] Identify barcodes and QR codes if present
- [ ] Extract product names, descriptions, and specifications
- [ ] Handle multiple text regions and prioritize product info
- [ ] Create product name normalization and cleaning
- [ ] Generate multiple search keywords from extracted text
- [ ] Implement fallback search strategies:
  - [ ] Try exact product name first
  - [ ] Fallback to brand + generic product type
  - [ ] Use partial text matching for obscure products
  - [ ] Remove common words that don't help search (e.g., "new", "brand", "authentic")
- [ ] Handle edge cases:
  - [ ] No text found in image
  - [ ] Poor image quality
  - [ ] Multiple products in one image
  - [ ] Text in foreign languages
  - [ ] Handwritten text vs printed text

### eBay Price Lookup - Implementation Needed
- [ ] Use extracted product text to search eBay Finding API
- [ ] Implement multiple search strategies:
  - [ ] Search for completed/sold listings
  - [ ] Try different keyword combinations
  - [ ] Search with and without brand names
  - [ ] Use product model numbers if available
- [ ] Get 10-20 recent sold items
- [ ] Filter results by relevance and recency
- [ ] Calculate average, min, max prices
- [ ] Show basic pricing stats
- [ ] Handle cases where no eBay results found

### Frontend Integration - Next Steps
- [ ] Connect PhotoUpload component to API endpoints
- [ ] Integrate `/api/analyze-complete` endpoint into handleAnalyze function
- [ ] Show identified product name and confidence level
- [ ] Display extracted text for transparency
- [ ] Show average price prominently
- [ ] List a few sample sold listings with details
- [ ] Add "Search on eBay" button with pre-filled search
- [ ] Show loading states during processing
- [ ] Display search strategy used (exact match, partial match, etc.)
- [ ] Show "Try different search" option if results are poor

## Technical Setup
### Dependencies
- [x] Install `axios` for API calls
- [x] Install `lucide-react` for icons
- [x] Add basic error handling

### API Routes - COMPLETED âœ…
**ðŸ“‹ Reference: docs/API.md for implementation details**
- [x] Create `/api/analyze-image` endpoint
- [x] Create `/api/ebay-search` endpoint  
- [x] Create `/api/product-normalize` endpoint for text processing
- [x] Create `/api/analyze-complete` endpoint for full pipeline
- [x] Set up environment variables for API keys

### Basic UI
- [x] Replace default Next.js page with upload interface
- [x] Create simple, clean design
- [x] Make it mobile-friendly
- [x] Add basic loading and error states

## MVP Polish
- [ ] Set up API keys in .env.local (see README.md for template)
- [ ] Test API endpoints with sample images
- [ ] Add retry functionality if image analysis fails
- [ ] Show "no results found" state with suggestions
- [ ] Add basic input validation
- [ ] Implement image quality assessment
- [ ] Add manual text input as fallback
- [ ] Test on mobile devices
- [ ] Deploy to Vercel

## Future Enhancements (Post-MVP)
- [ ] Camera capture instead of just upload
- [ ] Multiple marketplace support
- [ ] Price history charts
- [ ] User accounts and search history
- [ ] Barcode scanning
- [ ] More detailed product information
